name: Fetch Name

# Controls when the workflow will run
on:
 
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  getName:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest
    
    
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - name: Get Process Info
        uses: actions/checkout@v2
      - id: getName
        run: |
                nameget='[{
                          "@type": "DeployedPackage",
                          "deploymentId": "52063821-0b36-45a2-8cbc-d7910cbed8b5",
                          "version": 77,
                          "packageId": "12d61b53-e111-460b-a9a7-588e9886eb9f",
                          "packageVersion": "v5",
                          "environmentId": "5d9c830c-1f65-4fed-b7ef-fdbbbaf7d259",
                          "componentId": "bb076cd7-8f1e-42a7-843c-3b9c5dda0bb5",
                          "componentVersion": 11,
                          "componentType": "process",
                          "deployedDate": "2022-02-21T11:10:17Z",
                          "deployedBy": "ashmita.sawant@neosalpha.com",
                          "active": true
                         }, {
                          "@type": "DeployedPackage",
                          "deploymentId": "a0abeda2-62b2-4805-9194-9fa5b2693034",
                          "version": 48,
                          "packageId": "a23a5608-f233-491a-b821-f5911133c2d5",
                          "packageVersion": "v5",
                          "environmentId": "5d9c830c-1f65-4fed-b7ef-fdbbbaf7d259",
                          "componentId": "a7f1b658-ea28-4b36-9627-187f5d6f6446",
                          "componentVersion": 4,
                          "componentType": "process",
                          "deployedDate": "2022-02-21T11:10:19Z",
                          "deployedBy": "ashmita.sawant@neosalpha.com",
                          "active": true
                         }]'
                echo $nameget >> out.json
                               git config user.name ashmitasawant
                               git config user.email ashmitasawant3@gmail.com
                               git add .
                               git commit -m "Published Changes"
                               git config pull.rebase false
                               git push --force origin main

                info=$(cat ./out.json)
                detail=$(echo ${info} | jq '.type[0]')
